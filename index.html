<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Moon Phase</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="water.dark.min.css" />
    <script src="moon-phase.js"></script>
    <script
      src="https://code.jquery.com/jquery-3.6.0.min.js"
      integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
      crossorigin="anonymous"
    ></script>
  </head>
  <body>
    <div class="center">
      <h2>Today</h2>
      <h4 id="today"></h4>
      <p id="moon" class="large"></p>
      <p id="description"></p>
      <p class="footer">
        <a href="https://github.com/foostackdev/moon-phase" target="_blank"
          >GitHub</a
        >
      </p>
    </div>
    <script>
      let today = new Date();
      let moon = Moon.phase(
        today.getFullYear(),
        today.getMonth() + 1,
        today.getDate()
      );

      let descArr = [];
      for (let s of moon.name.split('-')) {
        descArr.push(capitalizeFirstLetter(s));
      }

      $('#today').text(
        today.toLocaleDateString('en-gb', {
          year: 'numeric',
          month: 'long',
          day: 'numeric',
        })
      );

      $('#moon').text(moon.display);

      $('#description').text(descArr.join(' '));

      function capitalizeFirstLetter(str) {
        return str.charAt(0).toUpperCase() + str.slice(1);
      }
    </script>
  </body>
</html>
